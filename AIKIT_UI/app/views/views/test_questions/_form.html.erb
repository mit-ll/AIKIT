<%= form_with(model: test_question) do |form| %>
  <% if test_question.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(test_question.errors.count, "error") %> prohibited this test_question from being saved:</h2>

      <ul>
        <% test_question.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <table border="2">
    <thead></thead>
    <tbody>
      <tr>
        <div>
          <td>Test</td>
          <td><%= @test_set.mqf_name if ! @test_set.nil? %></td>
        </div>
      </tr><tr>
        <% if ! @llm.nil? -%>
          <div>
            <td>LLM</td>
            <td><%= @llm.llm_name %></td>
          </div>
        <% end -%>
      </tr><tr>
        <div>
          <td><%= form.label :question_number, style: "display: block" %></td>
          <td><%= form.text_field :question_number  %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :question, style: "display: block" %></td>
          <td><%= form.text_area :question, :size => "140x4" %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :reference, style: "display: block" %></td>
          <td><%= form.text_field :reference %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :paragraph, style: "display: block" %></td>
          <td><%= form.text_field :paragraph %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :answer, style: "display: block" %></td>
          <td><%= form.text_area :answer, :size => "140x2" %></td>
        </div>
      </tr>
      <% if ! test_question.image_id.nil? -%>
        <tr>
          <div>
            <td><%= form.label :image_text, style: "display: block" %></td>
            <td><%= form.text_area :image_text, :size => "140x2" %></td>
          </div>
        </tr>
      <% end -%>
      <tr>
        <div>
          <td><%= form.label :option_a, style: "display: block" %></td>
          <td><%= form.text_area :option_a, :size => "140x2" %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :option_b, style: "display: block" %></td>
          <td><%= form.text_area :option_b, :size => "140x2" %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :option_c, style: "display: block" %></td>
          <td><%= form.text_area :option_c, :size => "140x2" %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :option_d, style: "display: block" %></td>
          <td><%= form.text_area :option_d, :size => "140x2" %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :option_e, style: "display: block" %></td>
          <td><%= form.text_area :option_e, :size => "140x2" %></td>
        </div>
      </tr><tr>
        <div>
          <td><%= form.label :option_f, style: "display: block" %></td>
          <td><%= form.text_area :option_f, :size => "140x2" %></td>
        </div>
      </tr>
      <% if ! test_question.image_id.nil? -%>
        <tr><td>
          <%= image_tag url_for(:controller => "images", :action => "show_image", :id => test_question.image_id) %>
        </td></tr>
      <% end -%>
    </tbody>
  </table>

  <div>
    <%= form.submit %>
  </div>
<% end %>
